<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: sans-serif;
            padding: 30px;
            line-height: 1.3; 
            text-align: center; 
        }
        /* Conteneur principal du reçu */
        .recu-conteneur {
            width: 16cm; 
            margin: 0 auto; 
            text-align: left;
            padding: 20px;
            border: 1px dashed #000;
        }

        .flex {
            width: 100%; 
            display: flex;
            justify-content: space-between;
            align-items: top;
            text-align: left; 
        }
        .flex > div:last-child {
            text-align: right; 
        }
        
        h3 {
            text-align: center;
            margin: 20px 0;
        }
        
        h4 {
            color: #0B5ED7;
        }
        
        /* Taille de police réduite pour le contenu général */
        p, li {
            font-size: 11px; 
        }
        
        .row {
            margin: 10px 0;
        }
        
        /* Tableau et cellules */
        table {
            margin: 30px 0; 
            width: 100%; 
            border-collapse: collapse;
            table-layout: fixed; 
        }
        
        th, td {
            border : 1px dashed black;
            border-collapse: collapse;
            padding : 8px; /* Ajusté */
            font-size: 10px; /* Réduit */
            line-height: 1.4; 
            vertical-align: top; 
            text-align: left; 
        }
        
        th {
            font-size: 11px;
            text-align: center;
        }

        /* Attribution des largeurs aux colonnes du reçu */
        th:nth-child(1), td:nth-child(1) { width: 60%; } /* DESCRIPTION */
        th:nth-child(2), td:nth-child(2) { width: 20%; } /* PRIX */
        th:nth-child(3), td:nth-child(3) { width: 20%; } /* STATUT */
        
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 10px;
            color: #777;
        }

        .img-contain img {
            /* Forcer la largeur et la hauteur en CSS */
            width: 100px !important; 
            height: 100px !important; 
            
            /* Assure que l'image reste dans ses dimensions sans déformer l'élément parent */
            max-width: 100px;
            max-height: 100px;
            
            /* Conserver le style de bordure (s'il était en ligne) */
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="recu-conteneur">

        <div class="flex">
            <div class="img-contain">
                <img src="{{ logo_url }}" alt="">
            </div>
            <div>
                <h4>STEPIC PRODUCTION</h4>
                <p>Ruelle n°2, Tanambao I Toliara</p>
                <p>stepicproduction@gmail.com</p>
                <p>034 28 899 56 - 032 93 201 29 - 033 68 538 13</p>
            </div>
        </div>
        <hr style="border-style: dashed;">
    
        <h3>{{ type }}</h3>
    
        <div class="infos-client">
            <div style="display: flex; gap: 30px;">
                <p class="row"><strong>RECU N° :</strong> {{ recu_number  }} </p>
                <p class="row"><strong>Date :</strong> {{ object.dateCommande|date:"d/m/Y" }} {{ object.dateInscription|date:"d/m/Y" }}</p>
            </div>
            <div style="display: flex; gap: 10px;">
                <p class="row"><strong>FACTURE A  :</strong></p>
                <div>
                    <p class="row">- {{ object.nomClient }} {{ object.prenomClient }}</p>
                    <p class="row">- {{ object.telephone }} {{ object.telephoneClient }}</p>
                </div>
            </div>
        </div>
    
        <table>
            <tr>
                <th>DESCRIPTION</th>
                <th>PRIX</th>
                <th>STATUT</th>
            </tr>
            {% for s in services %}
            <tr>
                <td>{{ s.nom }}</td>
                <td></td>
                <td></td>
            </tr>
            {% endfor %}
        </table>
    
        <p>TOTAL A PAYE : </p>
    
        <p style="text-align: right; margin: 50px 0;">----- Merci de votre confiance ! -----</p>
    
        <div class="footer">
            Document généré automatiquement - {{ now|date:"d/m/Y H:i" }}
        </div>
    </div>
</body>
</html>
